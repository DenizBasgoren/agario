parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"aSor":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=L,exports.hydrate=M,exports.h=exports.createElement=f,exports.Fragment=h,exports.createRef=d,exports.Component=v,exports.cloneElement=A,exports.createContext=F,exports.toChildArray=b,exports._unmount=T,exports.options=exports.isValidElement=void 0;var e,t,n,o,l,r,_,u={},i=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function c(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t,n){var o,l=arguments,r={};for(o in t)"key"!==o&&"ref"!==o&&(r[o]=t[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(l[o]);if(null!=n&&(r.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===r[o]&&(r[o]=e.defaultProps[o]);return a(e,r,t&&t.key,t&&t.ref)}function a(t,n,o,l){var r={type:t,props:n,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return e.vnode&&e.vnode(r),r}function d(){return{}}function h(e){return e.children}function v(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function m(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return m(e)}}function g(t){(!t.__d&&(t.__d=!0)&&1===n.push(t)||l!==e.debounceRendering)&&((l=e.debounceRendering)||o)(k)}function k(){var e,t,o,l,r,_,u;for(n.sort(function(e,t){return t.__v.__b-e.__v.__b});e=n.pop();)e.__d&&(o=void 0,l=void 0,_=(r=(t=e).__v).__e,(u=t.__P)&&(o=[],l=E(u,r,c({},r),t.__n,void 0!==u.ownerSVGElement,null,o,null==_?y(r):_),U(o,r),l!=_&&m(r)))}function x(e,t,n,o,l,r,_,s,c){var f,a,d,h,v,m,g,k=n&&n.__k||i,x=k.length;if(s==u&&(s=null!=r?r[0]:x?y(n,0):null),f=0,t.__k=b(t.__k,function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(d=k[f])||d&&n.key==d.key&&n.type===d.type)k[f]=void 0;else for(a=0;a<x;a++){if((d=k[a])&&n.key==d.key&&n.type===d.type){k[a]=void 0;break}d=null}if(h=E(e,n,d=d||u,o,l,r,_,s,c),(a=n.ref)&&d.ref!=a&&(g||(g=[]),d.ref&&g.push(d.ref,null,n),g.push(a,n.__c||h,n)),null!=h){if(null==m&&(m=h),null!=n.__d)h=n.__d,n.__d=null;else if(r==d||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h);else{for(v=s,a=0;(v=v.nextSibling)&&a<x;a+=2)if(v==h)break e;e.insertBefore(h,s)}"option"==t.type&&(e.value="")}s=h.nextSibling,"function"==typeof t.type&&(t.__d=h)}}return f++,n}),t.__e=m,null!=r&&"function"!=typeof t.type)for(f=r.length;f--;)null!=r[f]&&p(r[f]);for(f=x;f--;)null!=k[f]&&T(k[f],k[f]);if(g)for(f=0;f<g.length;f++)D(g[f],g[++f],g[++f])}function b(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)b(e[o],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?a(null,e,null,null):null!=e.__e||null!=e.__c?a(e.type,e.props,e.key,null):e):e);return n}function C(e,t,n,o,l){var r;for(r in n)r in t||S(e,r,null,n[r],o);for(r in t)l&&"function"!=typeof t[r]||"value"===r||"checked"===r||n[r]===t[r]||S(e,r,t[r],n[r],o)}function w(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===s.test(t)?n+"px":null==n?"":n}function S(e,t,n,o,l){var r,_,u,i,s;if(l?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(r=e.style,"string"==typeof n)r.cssText=n;else{if("string"==typeof o&&(r.cssText="",o=null),o)for(_ in o)n&&_ in n||w(r,_,"");if(n)for(u in n)o&&n[u]===o[u]||w(r,u,n[u])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(o||e.addEventListener(t,P,i),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,P,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&!l&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function P(t){this.l[t.type](e.event?e.event(t):t)}function E(t,n,o,l,r,_,u,i,s){var p,f,a,d,y,m,g,k,C,w,S=n.type;if(void 0!==n.constructor)return null;(p=e.__b)&&p(n);try{e:if("function"==typeof S){if(k=n.props,C=(p=S.contextType)&&l[p.__c],w=p?C?C.props.value:p.__:l,o.__c?g=(f=n.__c=o.__c).__=f.__E:("prototype"in S&&S.prototype.render?n.__c=f=new S(k,w):(n.__c=f=new v(k,w),f.constructor=S,f.render=W),C&&C.sub(f),f.props=k,f.state||(f.state={}),f.context=w,f.__n=l,a=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=S.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=c({},f.__s)),c(f.__s,S.getDerivedStateFromProps(k,f.__s))),d=f.props,y=f.state,a)null==S.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==S.getDerivedStateFromProps&&k!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,w),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,w)){for(f.props=k,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=o.__e,n.__k=o.__k,f.__h.length&&u.push(f),p=0;p<n.__k.length;p++)n.__k[p]&&(n.__k[p].__=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,w),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,y,m)})}f.context=w,f.props=k,f.state=f.__s,(p=e.__r)&&p(n),f.__d=!1,f.__v=n,f.__P=t,p=f.render(f.props,f.state,f.context),n.__k=b(null!=p&&p.type==h&&null==p.key?p.props.children:p),null!=f.getChildContext&&(l=c(c({},l),f.getChildContext())),a||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(d,y)),x(t,n,o,l,r,_,u,i,s),f.base=n.__e,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=null}else n.__e=N(o.__e,n,o,l,r,_,u,s);(p=e.diffed)&&p(n)}catch(t){e.__e(t,n,o)}return n.__e}function U(t,n){e.__c&&e.__c(n,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(e){e.call(n)})}catch(t){e.__e(t,n.__v)}})}function N(e,t,n,o,l,r,_,s){var c,p,f,a,d,h=n.props,v=t.props;if(l="svg"===t.type||l,null==e&&null!=r)for(c=0;c<r.length;c++)if(null!=(p=r[c])&&(null===t.type?3===p.nodeType:p.localName===t.type)){e=p,r[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=l?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),r=null}if(null===t.type)null!=r&&(r[r.indexOf(e)]=null),h!==v&&(e.data=v);else if(t!==n){if(null!=r&&(r=i.slice.call(e.childNodes)),f=(h=n.props||u).dangerouslySetInnerHTML,a=v.dangerouslySetInnerHTML,!s){if(h===u)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(a||f)&&(a&&f&&a.__html==f.__html||(e.innerHTML=a&&a.__html||""))}C(e,v,h,l,s),t.__k=t.props.children,a||x(e,t,n,o,"foreignObject"!==t.type&&l,r,_,u,s),s||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function D(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function T(t,n,o){var l,r,_;if(e.unmount&&e.unmount(t),(l=t.ref)&&D(l,null,n),o||"function"==typeof t.type||(o=null!=(r=t.__e)),t.__e=t.__d=null,null!=(l=t.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(t){e.__e(t,n)}l.base=l.__P=null}if(l=t.__k)for(_=0;_<l.length;_++)l[_]&&T(l[_],n,o);null!=r&&p(r)}function W(e,t,n){return this.constructor(e,n)}function L(t,n,o){var l,_,s;e.__&&e.__(t,n),_=(l=o===r)?null:o&&o.__k||n.__k,t=f(h,null,[t]),s=[],E(n,(l?n:o||n).__k=t,_||u,u,void 0!==n.ownerSVGElement,o&&!l?[o]:_?null:i.slice.call(n.childNodes),s,o||u,l),U(s,t)}function M(e,t){L(e,t,r)}function A(e,t){return t=c(c({},e.props),t),arguments.length>2&&(t.children=i.slice.call(arguments,2)),a(e.type,t,t.key||e.key,t.ref||e.ref)}function F(e){var t={},n={__c:"__cC"+_++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var o,l=this;return this.getChildContext||(o=[],this.getChildContext=function(){return t[n.__c]=l,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&o.some(function(e){e.context=t.value,g(e)})},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n}exports.isValidElement=t,exports.options=e,exports.options=e={__e:function(e,t){for(var n;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(e));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(e)}return g(n.__E=n)}catch(t){e=t}throw e}},exports.isValidElement=t=function(e){return null!=e&&void 0===e.constructor},v.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&c(n,e),null!=e&&this.__v&&(this.__e=!1,t&&this.__h.push(t),g(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},v.prototype.render=h,n=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=u,_=0;
},{}],"MwGB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useState=s,exports.useReducer=a,exports.useEffect=p,exports.useLayoutEffect=m,exports.useRef=v,exports.useImperativeHandle=h,exports.useMemo=l,exports.useCallback=x,exports.useContext=H,exports.useDebugValue=d;var n,t,o,e=require("preact"),u=[],r=e.options.__r,i=e.options.diffed,c=e.options.__c,_=e.options.unmount;function f(n){e.options.__h&&e.options.__h(t);var o=t.__H||(t.__H={t:[],u:[]});return n>=o.t.length&&o.t.push({}),o.t[n]}function s(n){return a(q,n)}function a(o,e,u){var r=f(n++);return r.__c||(r.__c=t,r.i=[u?u(e):q(void 0,e),function(n){var t=o(r.i[0],n);r.i[0]!==t&&(r.i[0]=t,r.__c.setState({}))}]),r.i}function p(o,e){var u=f(n++);g(u.o,e)&&(u.i=o,u.o=e,t.__H.u.push(u))}function m(o,e){var u=f(n++);g(u.o,e)&&(u.i=o,u.o=e,t.__h.push(u))}function v(n){return l(function(){return{current:n}},[])}function h(n,t,o){m(function(){"function"==typeof n?n(t()):n&&(n.current=t())},null==o?o:o.concat(n))}function l(t,o){var e=f(n++);return g(e.o,o)?(e.o=o,e.v=t,e.i=t()):e.i}function x(n,t){return l(function(){return n},t)}function H(o){var e=t.context[o.__c];if(!e)return o.__;var u=f(n++);return null==u.i&&(u.i=!0,e.sub(t)),e.props.value}function d(n,t){e.options.useDebugValue&&e.options.useDebugValue(t?t(n):n)}function E(){u.some(function(n){n.__P&&(n.__H.u.forEach(b),n.__H.u.forEach(y),n.__H.u=[])}),u=[]}function b(n){n.m&&n.m()}function y(n){var t=n.i();"function"==typeof t&&(n.m=t)}function g(n,t){return!n||t.some(function(t,o){return t!==n[o]})}function q(n,t){return"function"==typeof t?t(n):t}e.options.__r=function(o){r&&r(o),n=0,(t=o.__c).__H&&(t.__H.u.forEach(b),t.__H.u.forEach(y),t.__H.u=[])},e.options.diffed=function(n){i&&i(n);var t=n.__c;if(t){var r=t.__H;r&&r.u.length&&(1!==u.push(t)&&o===e.options.requestAnimationFrame||((o=e.options.requestAnimationFrame)||function(n){var t,o=function(){clearTimeout(e),cancelAnimationFrame(t),setTimeout(n)},e=setTimeout(o,100);"undefined"!=typeof window&&(t=requestAnimationFrame(o))})(E))}},e.options.__c=function(n,t){t.some(function(n){n.__h.forEach(b),n.__h=n.__h.filter(function(n){return!n.i||y(n)})}),c&&c(n,t)},e.options.unmount=function(n){_&&_(n);var t=n.__c;if(t){var o=t.__H;o&&o.t.forEach(function(n){return n.m&&n.m()})}};
},{"preact":"aSor"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"LNZL":[function(require,module,exports) {
var process = require("process");
var e,r=require("process");function t(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDraft=a,exports.isDraftable=u,exports.original=s,exports.setUseProxies=exports.setAutoFreeze=exports.produceWithPatches=exports.produce=exports.nothing=exports.immerable=exports.finishDraft=exports.createDraft=exports.applyPatches=exports.Immer=exports.default=void 0;var n="undefined"!=typeof Symbol?Symbol("immer-nothing"):((e={})["immer-nothing"]=!0,e);exports.nothing=n;var o="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable";exports.immerable=o;var i="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function a(e){return!!e&&!!e[i]}function u(e){return!!e&&(f(e)||!!e[o]||!!e.constructor[o]||z(e)||x(e))}function f(e){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!0;var r=Object.getPrototypeOf(e);return!r||r===Object.prototype}function s(e){if(e&&e[i])return e[i].base}function c(e,r){return r.forEach(function(r){var t=s(r);t&&e.delete(t),e.add(r)}),e}function p(e,r){return r.forEach(function(r,t){return e.set(t,r)}),e}var l=Object.assign||function(e){for(var r=arguments,t=[],n=1;n<arguments.length;n++)t[n-1]=r[n];return t.forEach(function(r){"object"==typeof r&&null!==r&&Object.keys(r).forEach(function(t){return e[t]=r[t]})}),e},d="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function h(e,r){if(void 0===r&&(r=!1),Array.isArray(e))return e.slice();if(z(e))return new Map(e);if(x(e))return new Set(e);var t=Object.create(Object.getPrototypeOf(e));return d(e).forEach(function(n){if(n!==i){var o=Object.getOwnPropertyDescriptor(e,n),a=o.value;if(o.get){if(!r)throw new Error("Immer drafts cannot have computed properties");a=o.get.call(e)}o.enumerable?t[n]=a:Object.defineProperty(t,n,{value:a,writable:!0,configurable:!0})}}),t}function v(e,r){Array.isArray(e)||z(e)||x(e)?e.forEach(function(t,n){return r(n,t,e)}):d(e).forEach(function(t){return r(t,e[t],e)})}function y(e,r){var t=Object.getOwnPropertyDescriptor(e,r);return!(!t||!t.enumerable)}function b(e,r){return z(e)?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function g(e,r){return z(e)?e.get(r):e[r]}function m(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r}var w="undefined"!=typeof Symbol,P="undefined"!=typeof Map;function z(e){return P&&e instanceof Map}var O="undefined"!=typeof Set;function x(e){return O&&e instanceof Set}function j(e){var r,t;return(r={})[Symbol.iterator]=function(){return t},r.next=e,t=r}function E(e,r,t){var n="values"!==r;return function(){var r=k(e)[Symbol.iterator]();return j(function(){var e=r.next();if(!e.done){var o=e.value[0],i=t.get(o);e.value=n?[o,i]:i}return e})}}function A(e){return function(r,t){var n="entries"===t;return function(){var t=k(r)[Symbol.iterator]();return j(function(){var o=t.next();if(!o.done){var i=function(r,t){var n=s(t)||t,o=r.drafts.get(n);if(!o){if(r.finalized||!u(t)||r.finalizing)return t;o=e(t,r),r.drafts.set(n,o),r.modified&&r.copy.add(o)}return o}(r,o.value);o.value=n?[i,i]:i}return o})}}}function k(e){return e.copy||e.base}function D(e){if(!u(e))return e;if(Array.isArray(e))return e.map(D);if(z(e))return new Map(e);if(x(e))return new Set(e);var r=Object.create(Object.getPrototypeOf(e));for(var t in e)r[t]=D(e[t]);return r}function F(e,r){void 0===r&&(r=!1),!u(e)||a(e)||Object.isFrozen(e)||(x(e)?e.add=e.clear=e.delete=S:z(e)&&(e.set=e.clear=e.delete=S),Object.freeze(e),r&&v(e,function(e,r){return F(r,!0)}))}function S(){throw new Error("This object has been frozen and should not be mutated")}var _=function(){function e(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(M),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(){var r=new e(e.current);return e.current=r,r},e}();function M(e){e[i].revoke()}function R(e,r,t){e.drafts.forEach(function(e){e[i].finalizing=!0}),t?a(r)&&r[i].scope===e&&re(e.drafts):(e.patches&&te(e.drafts[0]),re(e.drafts))}function I(e,r){var t=Array.isArray(e),n=$(e);z(e)?B(n):x(e)?H(n):v(n,function(r){J(n,r,t||y(e,r))});var o=r?r.scope:_.current,a={scope:o,modified:!1,finalizing:!1,finalized:!1,assigned:z(e)?new Map:{},parent:r,base:e,draft:n,drafts:x(e)?new Map:null,copy:null,revoke:W,revoked:!1};return ue(n,i,a),o.drafts.push(n),n}function W(){this.revoked=!0}function N(e){return e.copy||e.base}function T(e,r){var t=e[i];if(t&&!t.finalizing){t.finalizing=!0;var n=e[r];return t.finalizing=!1,n}return e[r]}function U(e,r){ee(e);var t=T(N(e),r);return e.finalizing?t:t===T(e.base,r)&&u(t)?(L(e),e.copy[r]=I(t,e)):t}function C(e,r,t){if(ee(e),e.assigned[r]=!0,!e.modified){if(m(t,T(N(e),r)))return;K(e),L(e)}e.copy[r]=t}function K(e){e.modified||(e.modified=!0,e.parent&&K(e.parent))}function L(e){e.copy||(e.copy=$(e.base))}function $(e){var r=e&&e[i];if(r){r.finalizing=!0;var t=h(r.draft,!0);return r.finalizing=!1,t}return h(e)}var q={};function J(e,r,t){var n=q[r];n?n.enumerable=t:q[r]=n={configurable:!0,enumerable:t,get:function(){return U(this[i],r)},set:function(e){C(this[i],r,e)}},Object.defineProperty(e,r,n)}function B(e){Object.defineProperties(e,G),w&&Object.defineProperty(e,Symbol.iterator,Z(E))}var G=X({size:function(e){return N(e).size},has:function(e){return function(r){return N(e).has(r)}},set:function(e){return function(r,t){return N(e).get(r)!==t&&(L(e),K(e),e.assigned.set(r,!0),e.copy.set(r,t)),e.draft}},delete:function(e){return function(r){return L(e),K(e),e.assigned.set(r,!1),e.copy.delete(r),!1}},clear:function(e){return function(){e.copy||L(e),K(e),e.assigned=new Map;for(var r=0,t=N(e).keys();r<t.length;r++){var n=t[r];e.assigned.set(n,!1)}return e.copy.clear()}},forEach:function(e,r,t){return function(r){N(e).forEach(function(e,n,o){r(t.get(n),n,o)})}},get:function(e){return function(r){var t=N(e).get(r);if(e.finalizing||e.finalized||!u(t))return t;if(t!==e.base.get(r))return t;var n=I(t,e);return L(e),e.copy.set(r,n),n}},keys:function(e){return function(){return N(e).keys()}},values:E,entries:E});function H(e){Object.defineProperties(e,V),w&&Object.defineProperty(e,Symbol.iterator,Z(Q))}var Q=A(I),V=X({size:function(e){return N(e).size},add:function(e){return function(r){return N(e).has(r)||(K(e),e.copy||L(e),e.copy.add(r)),e.draft}},delete:function(e){return function(r){return K(e),e.copy||L(e),e.copy.delete(r)}},has:function(e){return function(r){return N(e).has(r)}},clear:function(e){return function(){return K(e),e.copy||L(e),e.copy.clear()}},keys:Q,entries:Q,values:Q,forEach:function(e){return function(r,t){for(var n=Q(e)(),o=n.next();!o.done;)r.call(t,o.value,o.value,e.draft),o=n.next()}}});function X(e){return Object.keys(e).reduce(function(r,t){var n="size"===t?Y:Z;return r[t]=n(e[t],t),r},{})}function Y(e){return{get:function(){var r=this[i];return ee(r),e(r)}}}function Z(e,r){return{get:function(){return function(){for(var t=arguments,n=[],o=0;o<arguments.length;o++)n[o]=t[o];var a=this[i];return ee(a),e(a,r,a.draft).apply(void 0,n)}}}}function ee(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(N(e)))}function re(e){for(var r=e.length-1;r>=0;r--){var t=e[r][i];t.modified||(Array.isArray(t.base)?oe(t)&&K(t):z(t.base)?ie(t)&&K(t):x(t.base)?ae(t)&&K(t):ne(t)&&K(t))}}function te(e){if(e&&"object"==typeof e){var r=e[i];if(r){var t=r.base,n=r.draft,o=r.assigned;if(Array.isArray(e)){if(oe(r)){if(K(r),o.length=!0,n.length<t.length)for(var a=n.length;a<t.length;a++)o[a]=!1;else for(a=t.length;a<n.length;a++)o[a]=!0;for(a=0;a<n.length;a++)void 0===o[a]&&te(n[a])}}else Object.keys(n).forEach(function(e){void 0!==t[e]||b(t,e)?o[e]||te(n[e]):(o[e]=!0,K(r))}),Object.keys(t).forEach(function(e){void 0!==n[e]||b(n,e)||(o[e]=!1,K(r))})}}}function ne(e){for(var r=e.base,t=e.draft,n=Object.keys(t),o=n.length-1;o>=0;o--){var a=n[o],u=r[a];if(void 0===u&&!b(r,a))return!0;var f=t[a],s=f&&f[i];if(s?s.base!==u:!m(f,u))return!0}return n.length!==Object.keys(r).length}function oe(e){var r=e.draft;if(r.length!==e.base.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);return!(!t||t.get)}function ie(e){var r=e.base,t=e.draft;if(r.size!==t.size)return!0;var n=!1;return t.forEach(function(e,t){n||(n=u(e)?e.modified:e!==r.get(t))}),n}function ae(e){var r=e.base,t=e.draft;if(r.size!==t.size)return!0;var n=!1;return t.forEach(function(e,t){n||(n=u(e)?e.modified:!r.has(t))}),n}function ue(e,r,t){Object.defineProperty(e,r,{value:t,enumerable:!1,writable:!0})}var fe,se,ce=Object.freeze({__proto__:null,willFinalize:R,createProxy:I});function pe(){}function le(e,r){var t=r?r.scope:_.current,n={scope:t,modified:!1,finalized:!1,assigned:{},parent:r,base:e,draft:null,drafts:{},copy:null,revoke:null},o=n,i=de;Array.isArray(e)?(o=[n],i=he):z(e)?(i=ye,n.drafts=new Map,n.assigned=new Map):x(e)&&(i=ge,n.drafts=new Map);var a=Proxy.revocable(o,i),u=a.revoke,f=a.proxy;return n.draft=f,n.revoke=u,t.drafts.push(f),f}var de={get:function(e,r){if(r===i)return e;var t=e.drafts;if(!e.modified&&b(t,r))return t[r];var n=me(e)[r];if(e.finalized||!u(n))return n;if(e.modified){if(n!==we(e.base,r))return n;t=e.copy}return t[r]=le(n,e)},has:function(e,r){return r in me(e)},ownKeys:function(e){return Reflect.ownKeys(me(e))},set:function(e,r,t){if(!e.modified){var n=we(e.base,r);if(t?m(n,t)||t===e.drafts[r]:m(n,t)&&r in e.base)return!0;Pe(e)}return e.assigned[r]=!0,e.copy[r]=t,!0},deleteProperty:function(e,r){return void 0!==we(e.base,r)||r in e.base?(e.assigned[r]=!1,Pe(e)):e.assigned[r]&&delete e.assigned[r],e.copy&&delete e.copy[r],!0},getOwnPropertyDescriptor:function(e,r){var t=me(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&(n.writable=!0,n.configurable=!Array.isArray(t)||"length"!==r),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},he={};v(de,function(e,r){he[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}}),he.deleteProperty=function(e,r){if(isNaN(parseInt(r)))throw new Error("Immer only supports deleting array indices");return de.deleteProperty.call(this,e[0],r)},he.set=function(e,r,t){if("length"!==r&&isNaN(parseInt(r)))throw new Error("Immer only supports setting array indices and the 'length' property");return de.set.call(this,e[0],r,t,e[0])};var ve=ze(["ownKeys","has","set","deleteProperty","defineProperty","getOwnPropertyDescriptor","preventExtensions","isExtensible","getPrototypeOf"]),ye=Oe(((fe={})[i]=function(e){return e},fe.size=function(e){return me(e).size},fe.has=function(e){return function(r){return me(e).has(r)}},fe.set=function(e){return function(r,t){var n=me(e);return n.has(r)&&n.get(r)===t||(Pe(e),e.assigned.set(r,!0),e.copy.set(r,t)),e.draft}},fe.delete=function(e){return function(r){return!!me(e).has(r)&&(Pe(e),e.assigned.set(r,!1),e.copy.delete(r))}},fe.clear=function(e){return function(){return Pe(e),e.assigned=new Map,v(me(e).keys(),function(r,t){e.assigned.set(t,!1)}),e.copy.clear()}},fe.forEach=function(e,r,t){return function(r,n){return me(e).forEach(function(e,o,i){var a=t.get(o);r.call(n,a,o,i)})}},fe.get=function(e){return function(r){var t=e.modified?e.copy:e.drafts;if(t.has(r)){var n=t.get(r);if(a(n)||!u(n))return n;var o=le(n,e);return t.set(r,o),o}var i=me(e).get(r);if(e.finalized||!u(i))return i;var f=le(i,e);return t.set(r,f),f}},fe.keys=function(e){return function(){return me(e).keys()}},fe.values=E,fe.entries=E,fe[w?Symbol.iterator:"@@iterator"]=E,fe)),be=A(le),ge=Oe(((se={})[i]=function(e){return e},se.size=function(e){return me(e).size},se.has=function(e){return function(r){return me(e).has(r)}},se.add=function(e){return function(r){return me(e).has(r)||(Pe(e),e.copy.add(r)),e.draft}},se.delete=function(e){return function(r){return Pe(e),e.copy.delete(r)}},se.clear=function(e){return function(){return Pe(e),e.copy.clear()}},se.forEach=function(e){return function(r,t){for(var n=be(e)(),o=n.next();!o.done;)r.call(t,o.value,o.value,e.draft),o=n.next()}},se.keys=be,se.values=be,se.entries=be,se[w?Symbol.iterator:"@@iterator"]=be,se));function me(e){return e.copy||e.base}function we(e,r){var t=e[i],n=Reflect.getOwnPropertyDescriptor(t?me(t):e,r);return n&&n.value}function Pe(e){if(!e.modified){e.modified=!0;var r=e.base,t=e.drafts,n=e.parent,o=h(r);x(r)?c(o,t):(z(r)?p(o,t):l(o,t),e.drafts=null),e.copy=o,n&&Pe(n)}}function ze(e){return e.reduce(function(e,r){return e[r]=function(e){for(var n=arguments,o=[],i=1;i<arguments.length;i++)o[i-1]=n[i];return Reflect[r].apply(Reflect,t([me(e)],o))},e},{})}function Oe(e){return l({},ve,{get:function(r,t,n){return e.hasOwnProperty(t)?e[t](r,t,n):Reflect.get(r,t,n)},setPrototypeOf:function(e){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}})}var xe=Object.freeze({__proto__:null,willFinalize:pe,createProxy:le});function je(e,r,t,n){(Array.isArray(e.base)?Ee:x(e.base)?ke:Ae)(e,r,t,n)}function Ee(e,r,t,n){var o,i,a=e.base,u=e.copy,f=e.assigned;u.length<a.length&&(a=(o=[u,a])[0],u=o[1],t=(i=[n,t])[0],n=i[1]);for(var s=u.length-a.length,c=0;a[c]===u[c]&&c<a.length;)++c;for(var p=a.length;p>c&&a[p-1]===u[p+s-1];)--p;for(var l=c;l<p;++l)if(f[l]&&u[l]!==a[l]){var d=r.concat([l]);t.push({op:"replace",path:d,value:u[l]}),n.push({op:"replace",path:d,value:a[l]})}var h=t.length;for(l=p+s-1;l>=p;--l){d=r.concat([l]);t[h+l-p]={op:"add",path:d,value:u[l]},n.push({op:"remove",path:d})}}function Ae(e,r,t,n){var o=e.base,i=e.copy;v(e.assigned,function(e,a){var u=g(o,e),f=g(i,e),s=a?b(o,e)?"replace":"add":"remove";if(u!==f||"replace"!==s){var c=r.concat(e);t.push("remove"===s?{op:s,path:c}:{op:s,path:c,value:f}),n.push("add"===s?{op:"remove",path:c}:"remove"===s?{op:"add",path:c,value:u}:{op:"replace",path:c,value:u})}})}function ke(e,r,t,n){var o=e.base,i=e.copy,a=0;o.forEach(function(e){if(!i.has(e)){var o=r.concat([a]);t.push({op:"remove",path:o,value:e}),n.unshift({op:"add",path:o,value:e})}a++}),a=0,i.forEach(function(e){if(!o.has(e)){var i=r.concat([a]);t.push({op:"add",path:i,value:e}),n.unshift({op:"remove",path:i,value:e})}a++})}function De(e,r){return r.forEach(function(r){var t=r.path,n=r.op;if(!t.length)throw new Error("Illegal state");for(var o=e,i=0;i<t.length-1;i++)if(!(o=g(o,t[i]))||"object"!=typeof o)throw new Error("Cannot apply patch, path doesn't resolve: "+t.join("/"));var a=D(r.value),u=t[t.length-1];switch(n){case"replace":if(z(o))o.set(u,a);else{if(x(o))throw new Error('Sets cannot have "replace" patches.');o[u]=a}break;case"add":x(o)&&o.delete(r.value),Array.isArray(o)?o.splice(u,0,a):z(o)?o.set(u,a):x(o)?o.add(a):o[u]=a;break;case"remove":Array.isArray(o)?o.splice(u,1):z(o)?o.delete(u):x(o)?o.delete(r.value):delete o[u];break;default:throw new Error("Unsupported patch operation: "+n)}}),e}function Fe(){}var Se={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===r&&"verifyMinified"===Fe.name,onAssign:null,onDelete:null,onCopy:null},_e=function(){function e(e){this.useProxies=!1,this.autoFreeze=!1,l(this,Se,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,r,o){var i,a=this;if("function"==typeof e&&"function"!=typeof r){var f=r;r=e;var s=this;return function(e){var n=arguments,o=this;void 0===e&&(e=f);for(var i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return s.produce(e,function(e){return r.call.apply(r,t([o,e],i))})}}if("function"!=typeof r)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==o&&"function"!=typeof o)throw new Error("The third argument to `produce` must be a function or undefined");if(u(e)){var c=_.enter(),p=this.createProxy(e),l=!0;try{i=r(p),l=!1}finally{l?c.revoke():c.leave()}return"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return c.usePatches(o),a.processResult(e,c)},function(e){throw c.revoke(),e}):(c.usePatches(o),this.processResult(i,c))}if((i=r(e))!==n)return void 0===i&&(i=e),this.maybeFreeze(i,!0),i},e.prototype.produceWithPatches=function(e,r,n){var o,i,a=this;if("function"==typeof e)return function(r){for(var n=arguments,o=[],i=1;i<arguments.length;i++)o[i-1]=n[i];return a.produceWithPatches(r,function(r){return e.apply(void 0,t([r],o))})};if(n)throw new Error("A patch listener cannot be passed to produceWithPatches");return[this.produce(e,r,function(e,r){o=e,i=r}),o,i]},e.prototype.createDraft=function(e){if(!u(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var r=_.enter(),t=this.createProxy(e);return t[i].isManual=!0,r.leave(),t},e.prototype.finishDraft=function(e,r){var t=e&&e[i];if(!t||!t.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(t.finalized)throw new Error("The given draft is already finalized");var n=t.scope;return n.usePatches(r),this.processResult(void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e,l(this,e?xe:ce)},e.prototype.applyPatches=function(e,r){var t;for(t=r.length-1;t>=0;t--){var n=r[t];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return a(e)?De(e,r):this.produce(e,function(e){return De(e,r.slice(t+1))})},e.prototype.processResult=function(e,r){var t=r.drafts[0],o=void 0!==e&&e!==t;if(this.willFinalize(r,e,o),o){if(t[i].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");u(e)&&(e=this.finalize(e,null,r),this.maybeFreeze(e)),r.patches&&(r.patches.push({op:"replace",path:[],value:e}),r.inversePatches.push({op:"replace",path:[],value:t[i].base}))}else e=this.finalize(t,[],r);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),e!==n?e:void 0},e.prototype.finalize=function(e,r,t){var n=this,o=e[i];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e,null,t);if(o.scope!==t)return e;if(!o.modified)return this.maybeFreeze(o.base,!0),o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,r,t),this.onDelete&&!x(o.base))if(this.useProxies){v(o.assigned,function(e,r){var t,i;r||null===(i=(t=n).onDelete)||void 0===i||i.call(t,o,e)})}else{var a=o.base,u=o.copy;v(a,function(e){var r,t;b(u,e)||null===(t=(r=n).onDelete)||void 0===t||t.call(r,o,e)})}this.onCopy&&this.onCopy(o),this.autoFreeze&&t.canAutoFreeze&&F(o.copy,!1),r&&t.patches&&je(o,r,t.patches,t.inversePatches)}return o.copy},e.prototype.finalizeTree=function(e,r,t){var n=this,o=e[i];o&&(this.useProxies||(o.copy=h(o.draft,!0)),e=o.copy);var f=!!r&&!!t.patches,s=function(i,c,p){if(c===p)throw Error("Immer forbids circular references");var l=!!o&&p===e,d=x(p);if(a(c)){var h=l&&f&&!d&&!b(o.assigned,i)?r.concat(i):null;if(Me(p,i,c=n.finalize(c,h,t)),a(c)&&(t.canAutoFreeze=!1),l&&c===g(o.base,i))return}else{if(l&&m(c,g(o.base,i)))return;u(c)&&!Object.isFrozen(c)&&(v(c,s),n.maybeFreeze(c))}l&&n.onAssign&&!d&&n.onAssign(o,i,c)};return v(e,s),e},e.prototype.maybeFreeze=function(e,r){void 0===r&&(r=!1),this.autoFreeze&&!a(e)&&F(e,r)},e}();function Me(e,r,t){z(e)?e.set(r,t):x(e)?(e.delete(r),e.add(t)):Array.isArray(e)||y(e,r)?e[r]=t:Object.defineProperty(e,r,{value:t,writable:!0,configurable:!0})}exports.Immer=_e;var Re=new _e,Ie=Re.produce;exports.produce=Ie;var We=Re.produceWithPatches.bind(Re);exports.produceWithPatches=We;var Ne=Re.setAutoFreeze.bind(Re);exports.setAutoFreeze=Ne;var Te=Re.setUseProxies.bind(Re);exports.setUseProxies=Te;var Ue=Re.applyPatches.bind(Re);exports.applyPatches=Ue;var Ce=Re.createDraft.bind(Re);exports.createDraft=Ce;var Ke=Re.finishDraft.bind(Re);exports.finishDraft=Ke;var Le=Ie;exports.default=Le;
},{"process":"pBGv"}],"IVsl":[function(require,module,exports) {
"use strict";var n=require("preact"),t=require("preact/hooks"),e=require("immer");function r(n,t){return a(n)||o(n,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(n,t){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var e=[],r=!0,i=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return e}}function a(n){if(Array.isArray(n))return n}var c,l=(0,n.createContext)(),u={currentPositions:[],origin:{x:0,y:0,scale:10,scaleFactor:100},uid:null,ranking:[],gameState:"name"},s={setGameState:function(n){return(0,e.produce)(function(t){t.gameState=n})},updatePositionsAndRanking:function(n,t){return(0,e.produce)(function(e){if(e.ranking=t,e.currentPositions=n,e.uid){for(var r=0;r<n.length;r++)if(n[r].uid===e.uid){e.origin.x=n[r].x,e.origin.y=n[r].y,e.origin.scale=e.origin.scaleFactor/Math.log(n[r].score);break}}else e.origin.x=0,e.origin.y=0,e.origin.scale=e.origin.scaleFactor/10})},setUid:function(n){return(0,e.produce)(function(t){t.uid=n})},setScalingFactor:function(n){return(0,e.produce)(function(t){t.origin.scaleFactor-=n,t.origin.scaleFactor<=0&&(t.origin.scaleFactor=1)})}};function h(n,e){var r=(0,t.useRef)();(0,t.useEffect)(function(){r.current=n},[n]),(0,t.useEffect)(function(){if(null!==e){var n=setInterval(function(){r.current()},e);return function(){return clearInterval(n)}}},[e])}function d(){var e=r((0,t.useState)(u),2),i=e[0],o=e[1];return window._state=i,window._setstate=o,(0,t.useEffect)(function(){try{(c=new WebSocket("ws://".concat(location.host,"/"))).onerror=function(n){o(s.setGameState("oops"))},c.onmessage=function(n){var t=JSON.parse(n.data);"update"===t[0]&&o(s.updatePositionsAndRanking(t[1],t[2])),"setuid"===t[0]&&(console.log("uid: ".concat(t[1])),o(s.setUid(t[1])))}}catch(n){o(s.setGameState("oops"))}},[]),(0,n.h)(l.Provider,{value:[i,o]},(0,n.h)(p,null),(0,n.h)(g,null),(0,n.h)(f,null,i.ranking))}function f(t){var e=t.children;return(0,n.h)("div",{className:"HallOfFame"},(0,n.h)("span",null,"HALL OF FAME"),(0,n.h)("table",null,(0,n.h)("tbody",null,e.map(function(t,e){return(0,n.h)("tr",{key:e},(0,n.h)("td",null,e+1),(0,n.h)("td",null,t.name),(0,n.h)("td",null,t.score))}))))}function g(){var e=r((0,t.useContext)(l),2),i=e[0],o=e[1],a=r((0,t.useState)(""),2),u=a[0],h=a[1],d=r((0,t.useState)("orange"),2),f=d[0],g=d[1];if("name"===i.gameState)return(0,n.h)(w,{title:"WELCOME TO AGARIO"},(0,n.h)("div",null,(0,n.h)("input",{type:"text",value:u,placeholder:"Your name",onInput:function(n){var t=(e=n.target.value,e.substr(0,10).split("").filter(function(n){return n.charCodeAt()>=32&&n.charCodeAt()<=126}).join(""));var e;n.target.value=t,h(t)}}),(0,n.h)("button",{onClick:function(){return p(-1)}}," ",">"," "),(0,n.h)("span",null," ",f," "),(0,n.h)("button",{onClick:function(){return p(1)}}," ","<"," ")),(0,n.h)("button",{onClick:function(){c.send(JSON.stringify(["start",u,f])),o(s.setGameState("game"))}},"START"));if("oops"===i.gameState)return(0,n.h)(w,{title:"OOPS :("},(0,n.h)("span",null,"Your browser doesn't support this game."));if("game"===i.gameState)return null;function p(n){var t=["red","orange","yellow","green","cyan","blue","purple"],e=t.indexOf(f);g(t[(e+n+7)%7])}}function w(t){var e=t.title,r=t.children;return(0,n.h)("div",{className:"Dialog"},(0,n.h)("span",null,e),r)}function p(){var e=r((0,t.useContext)(l),2),i=e[0],o=e[1],a=(0,t.useRef)(null),u=r((0,t.useState)(0),2),d=u[0],f=u[1],g=r((0,t.useState)(0),2),w=g[0],p=g[1],m=r((0,t.useState)(0),2),S=m[0],b=m[1],k=r((0,t.useState)(0),2),M=k[0],x=k[1];return(0,t.useEffect)(function(){window.onkeydown=function(n){switch(n.keyCode){case 87:case 38:M||x(-1);break;case 65:case 37:d||f(-1);break;case 68:case 39:w||p(1);break;case 83:case 40:S||b(1)}},window.onkeyup=function(n){switch(n.keyCode){case 87:case 38:x(0);break;case 65:case 37:f(0);break;case 68:case 39:p(0);break;case 83:case 40:b(0)}},window.onwheel=function(n){o(s.setScalingFactor(n.deltaY))}},[]),h(function(){var n=d+w,t=M+S;(n||t)&&c.send(JSON.stringify(["move",n,t]))},50),(0,t.useEffect)(function(){var n=a.current.getContext("2d");n.clearRect(0,0,window.innerWidth,window.innerHeight);for(var t=0;t<i.currentPositions.length;t++)v(n,i.currentPositions[t],i.origin);y(n,i.currentPositions,i.origin)}),(0,n.h)(n.Fragment,null,(0,n.h)("canvas",{className:"Canvas",ref:a,width:window.innerWidth,height:window.innerHeight}),i.currentPositions.map(function(t){var e=Math.log(t.score)*i.origin.scale,r=(t.x-i.origin.x)*i.origin.scaleFactor/100+Math.floor(window.innerWidth/2)-.1*e*t.name.length,o=(t.y-i.origin.y)*i.origin.scaleFactor/100+Math.floor(window.innerHeight/2)-1.7*e;return(0,n.h)("span",{style:{color:t.color,transform:"translate(".concat(r,"px, ").concat(o,"px)"),fontSize:"".concat(e/2,"px")}},t.name)}))}function y(n,t,e){n.strokeStyle="lightgray",n.fillStyle="gray",n.lineWidth=3,n.beginPath(),n.arc(window.innerWidth-110,100,90,0,6.283),n.fill(),n.beginPath(),n.arc(window.innerWidth-110,100,90,0,6.283),n.arc(window.innerWidth-110,100,60,0,6.283),n.arc(window.innerWidth-110,100,30,0,6.283),n.moveTo(window.innerWidth-200,100),n.lineTo(window.innerWidth-20,100),n.moveTo(window.innerWidth-110,190),n.lineTo(window.innerWidth-110,10),n.stroke(),n.fillStyle="#0c0";for(var r=0;r<t.length;r++){var i=t[r].x,o=t[r].y,a=e.x,c=e.y,l=10*(i-a>0?1:-1)*Math.log(1+Math.abs(i-a))-2,u=10*(o-c>0?1:-1)*Math.log(1+Math.abs(o-c))-2;Math.pow(l,2)+Math.pow(u,2)<Math.pow(88,2)&&n.fillRect(window.innerWidth-110+l,100+u,4,4)}}function v(n,t,e){var r={red:0,orange:30,yellow:60,green:120,cyan:180,blue:240,purple:300};n.lineWidth=3,n.strokeStyle="hsl(".concat(r[t.color],", 75%, 25%)"),n.fillStyle="hsl(".concat(r[t.color],", 75%, 50%)");for(var i,o,a,c=(t.x-e.x)*e.scaleFactor/100+Math.floor(window.innerWidth/2),l=(t.y-e.y)*e.scaleFactor/100+Math.floor(window.innerHeight/2),u=Math.log(t.score)*e.scale,s=0;s<8;s++)i=3.141*s/4,a=.8*u*Math.sin(i),o=.8*u*Math.cos(i),n.beginPath(),n.arc(c+o,l+a,.4*u,0,6.283),n.stroke(),n.beginPath(),n.arc(c+o,l+a,.4*u,0,6.283),n.fill();n.beginPath(),n.arc(c,l,u,0,6.284),n.fill(),a=.5*u*-Math.sin(.4*3.141),o=.5*u*Math.cos(.4*3.141),n.strokeRect(c+o,l+a,0,u/3),a=.5*u*-Math.sin(.6*3.141),o=.5*u*Math.cos(.6*3.141),n.strokeRect(c+o,l+a,0,u/3)}(0,n.render)((0,n.h)(d,null),document.getElementById("root"));
},{"preact":"aSor","preact/hooks":"MwGB","immer":"LNZL"}]},{},["IVsl"], null)
//# sourceMappingURL=/client.968e16ec.js.map